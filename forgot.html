<!DOCTYPE html>
<html>
<head>
  <link href="style.css" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Playfair Display' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
</head>
<body>
    <div id="app">
        
        <v-app>
            <v-main>
                <v-container fluid class="fill-height background" style="width:100vw;">
                    <v-app-bar
                        elevation="0" class="topbox"
                    >
                        <h1><a href="index.html" class="logo">RE:LEARN</a></h1>
                        <v-spacer></v-spacer>
                        
                        <v-btn rounded style="background-color: #f1f1f1;" @click="locationChange('create.html')">
                            <a href="create.html">Create</a>
                        </v-btn>
                        <v-btn rounded style="background-color: #f1f1f1; margin-left: 10px;" @click="locationChange('edit.html')">
                            <a href="edit.html">Edit</a>
                        </v-btn>
                    </v-app-bar>
                    <v-row style="height: 40%;">
                        <h1 class="text-center" style="width: 100vw; font-size: 15vh;">
                            RECOVER
                        </h1>
                    </v-row>
                    <v-row style="height: 60%; width: 100%" >
                        <v-col md="6" offset-md="3">
                            <h4>Enter email that was provided upon create to recover set codes and passwords</h4>
                            <v-text-field
                            v-model="email"
                            placeholder="Email"></v-text-field>
                            <v-btn
                            @click="forgot"
                            block
                            elevation="0">
                            Request
                            </v-btn>
                        </v-col>
                    </v-row>
                </v-container>
            </v-main>
        </v-app>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.7.4/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>
  <script>
    var app = new Vue({
      el: '#app',
      vuetify: new Vuetify(),
        data: {
            email: ""
        },
      mounted: function(){
      },
      methods: {
        locationChange(href){
            location.href=href
          },
           forgot: function(){
                fetch(`https://re-learn-server.dho6342568911.repl.co/recover?email=${this.email}`).then(response => response.json()).then(data => {
                    if (data['sent'] == 'sent'){
                        location.href='sent.html'
                    }
                })
           }
        }
      })
  </script>

  <style>
      a {
          color:black !important;
          font-family: serif;
      }
      .invalidcode {
    background-color:rgb(240, 137, 137);
    border: 1px 1px 1px 1px rgb(161, 3, 3);
}
  </style>

</body>

</html>
